!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).GPUjsRealRenderer=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var i=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRGBColorString=void 0,e.getRGBColorString=function(t){return"rgb("+255*t[0]+", "+255*t[1]+", "+255*t[2]+")"}})),n=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;var r=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",t),this.pathD=t,this.node=e}return t.prototype.updatePath=function(t){this.node.setAttribute("d",t),this.pathD=t},t.prototype.setStroke=function(t){this.node.setAttribute("stroke",t)},t}();e.Path=r})),o=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getBlankGraphPath=void 0,e.getBlankGraphPath=function(t,e,r,o,s){var a,h=t[0],d=t[1],f=Math.floor(d*(e/100)),u=Math.floor(h*(r/100));s?(a="M 0,"+u+" H "+(t[0]-1)+" \n",a+="M "+f+",0 V "+(t[1]-1)):a="";var p=new n.Path(a);return p.setStroke(i.getRGBColorString(o)),p}})),s=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),a=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealRendererDefaults=void 0,e.RealRendererDefaults={dimensions:[1e3,1e3],xScaleFactor:10,yScaleFactor:1,bgColor:[0,0,0],drawAxes:!0,axesColor:[1,1,1],drawsPerFrame:1,timeStep:1/60,initTime:0,xOffset:50,yOffset:50}})),h=r((function(e,r){var n=t&&t.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},h=t&&t.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),d=t&&t.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||h(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.RealRenderer=r.RealRendererTypes=void 0,r.RealRendererTypes=s,d(a,r);var f=function(){function t(t){if(this.paths=[],this._pathIndex=-1,t=n(n({},a.RealRendererDefaults),t),this.svg=t.svg,this.dimensions=t.dimensions,this.xScaleFactor=t.xScaleFactor,this.yScaleFactor=t.yScaleFactor,this.bgColor=t.bgColor,this.drawAxes=t.drawAxes,this.axesColor=t.axesColor,this.drawsPerFrame=t.drawsPerFrame,this.timeStep=t.timeStep,this.time=t.initTime,this.xOffset=t.xOffset,this.yOffset=t.yOffset,this.xOffset=Math.max(0,Math.min(100,this.xOffset)),this.yOffset=Math.max(0,Math.min(100,this.yOffset)),void 0===this.svg)throw"No SVG Element Found";this.svg.setAttribute("width",this.dimensions[0].toString()),this.svg.setAttribute("height",this.dimensions[1].toString()),this.svg.style.backgroundColor=""+i.getRGBColorString(this.bgColor),this._addPath(o.getBlankGraphPath(this.dimensions,this.xOffset,this.yOffset,this.axesColor,this.drawAxes)),this._pathIndex=0,this._display(this.paths),this._doRender=!1}return t.prototype._drawFunc=function(t){return this},t.prototype._draw=function(){return this.time+=this.timeStep,this._drawFunc(this.time),this},t.prototype._addPath=function(t){this.paths.length>this._pathIndex+1&&this.paths.splice(this._pathIndex+1,this.paths.length-this._pathIndex),this.paths[++this._pathIndex]=t},t.prototype.draw=function(t){void 0===t&&(t=1);for(var e=0;e<t;e++)this._draw();return this},t.prototype._render=function(){var t=this;this._doRender&&(this.draw(this.drawsPerFrame),this._display(this.paths),window.requestAnimationFrame((function(){t._render()})))},t.prototype._display=function(t){this.svg.appendChild(t[this._pathIndex].node)},t.prototype.startRender=function(){if(!this._doRender)return this._doRender=!0,this._render(),this},t.prototype.stopRender=function(){return this._doRender=!1,this},t.prototype.toggleRender=function(){return this._doRender=!this._doRender,this._doRender&&this._render(),this},t.prototype.resetTime=function(){return this.time=0,this},t.prototype.reset=function(){return this.paths=[o.getBlankGraphPath(this.dimensions,this.xOffset,this.yOffset,this.axesColor,this.drawAxes)],this._pathIndex=0,this.resetTime(),this._display(this.paths),this},t}();r.RealRenderer=f}));return e(r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealRenderer=void 0,Object.defineProperty(e,"RealRenderer",{enumerable:!0,get:function(){return h.RealRenderer}})})))}));
